(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{27:function(e,t,a){e.exports=a(46)},33:function(e,t,a){},39:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(20),c=a.n(r),s=(a(33),a(12)),i=a(3),o=a(21),u=a.n(o),m=a(22),p=a.n(m),d=a(52),g=a(49),b=a(50),E=a(51);a(39);a(40);function h(e){let{products:t}=e;return l.a.createElement(u.a,{data:t,contentKeys:{imgKey:"image",cardTitleKey:"name",cardDescriptionKey:"description",priceKey:"price"},skeleton:0,cardSize:"sm",btnOneText:"View",btnTwoText:"Purchase Now",btnOneHandler:(e,t,a)=>{},btnTwoHandler:(e,t,a)=>{},imageClickHandler:(e,t,a)=>{},cardControls:e=>l.a.createElement("div",null,l.a.createElement("input",{className:"my-custom-input",placeholder:"custom-input"}),l.a.createElement("button",{className:"my-custom-button",type:"submit"}," OK "))})}const f=e=>{let{products:t}=e;const[a,r]=Object(n.useState)([]),[c,s]=Object(n.useState)(0),[i,o]=Object(n.useState)(0);l.a.useEffect(()=>{const e=i+10;r(t.slice(i,e)),s(Math.ceil(t.length/10))},[i,10]);return l.a.createElement("div",null,l.a.createElement(h,{products:a}),l.a.createElement(p.a,{breakLabel:"...",nextLabel:"next >",onPageChange:e=>{const a=10*e.selected%t.length;o(a)},pageRangeDisplayed:5,pageCount:c,previousLabel:"< previous",renderOnZeroPageCount:null,containerClassName:"pagination",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"}))};var y=function(e){const[t,a]=Object(n.useState)([]),[r,c]=Object(n.useState)(!0),[s,i]=Object(n.useState)(null);return Object(n.useEffect)(()=>{(async()=>{try{let e=(await d.a.get("https://humane-blindly-gazelle.ngrok-free.app/api/products/",{headers:{"ngrok-skip-browser-warning":"Bearer"}})).data;a(e),c(!1)}catch(e){i(e.message),c(!1)}})()},[]),r?l.a.createElement(g.a,{className:"d-flex justify-content-center mt-5"},l.a.createElement(b.a,{animation:"border"})):s?l.a.createElement(g.a,{className:"d-flex justify-content-center mt-5"},l.a.createElement(E.a,{variant:"danger"},s)):l.a.createElement(f,{products:t})};const v=Object(n.createContext)();var C=()=>{const[e,t]=Object(n.useState)(""),[a,r]=Object(n.useState)(""),{login:c}=Object(n.useContext)(v);Object(i.q)();return l.a.createElement("div",null,l.a.createElement("h2",null,"Login"),l.a.createElement("form",{onSubmit:t=>{t.preventDefault(),fetch("http://localhost:8000/api/token/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:a})}).then(e=>e.json()).then(e=>{e.access?c(e.access):alert("Login failed")})}},l.a.createElement("div",null,l.a.createElement("label",null,"Username:"),l.a.createElement("input",{type:"text",value:e,onChange:e=>t(e.target.value)})),l.a.createElement("div",null,l.a.createElement("label",null,"Password:"),l.a.createElement("input",{type:"password",value:a,onChange:e=>r(e.target.value)})),l.a.createElement("button",{type:"submit"},"Login")))};var O=e=>{let{children:t,isAuthenticated:a}=e;const{user:r}=Object(n.useContext)(v);return a?t:l.a.createElement(i.a,{to:"/login"})};var j=()=>{const[e,t]=Object(n.useState)(null),[a,r]=Object(n.useState)(!0),[c,s]=Object(n.useState)(null);return Object(n.useEffect)(()=>{(async()=>{try{const e=await d.a.get("/api/cart/");t(e.data)}catch(e){s(e)}finally{r(!1)}})()},[]),a?l.a.createElement("p",null,"Loading cart details..."):c?l.a.createElement("p",null,"Error loading cart details: ",c.message):l.a.createElement("div",null,l.a.createElement("h2",null,"Your Cart"),0===e.items.length?l.a.createElement("p",null,"Your cart is empty"):l.a.createElement("ul",null,e.items.map(e=>l.a.createElement("li",{key:e.id},e.name," - ",e.quantity," x $",e.price))),l.a.createElement("p",null,"Total: $",e.total))};var k=function(){return l.a.createElement(s.a,null,l.a.createElement(i.d,null,l.a.createElement(i.b,{path:"/login",element:C}),l.a.createElement(i.b,{path:"/cart",element:l.a.createElement(O,{path:"/cart",component:j})}),l.a.createElement(i.b,{path:"/",element:l.a.createElement(y,null)})))};var S=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,53)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:r,getTTFB:c}=t;a(e),n(e),l(e),r(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(k,null))),S()}},[[27,1,2]]]);
//# sourceMappingURL=main.cccf568a.chunk.js.map